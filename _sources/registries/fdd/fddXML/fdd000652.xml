<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000652" titleName="PDF/A-4f: PDF/A for Embedded Files, Use of ISO 32000-2 (PDF/A-4): ISO 19005-4, Annex A" shortName="PDF/A-4f" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1 http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1/fdd-v1-2.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenreAndSubgenres>
				<fdd:gdfrGenre>text</fdd:gdfrGenre>
				<fdd:gdfrSubgenres>
					<fdd:gdfrSubgenre>any</fdd:gdfrSubgenre>
				</fdd:gdfrSubgenres>
			</fdd:gdfrGenreAndSubgenres>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>file-format</fdd:category>
			<fdd:category>encoding</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrComposition>unitary</fdd:gdfrComposition>
		<fdd:gdfrForm>binary</fdd:gdfrForm>
		<fdd:gdfrConstraint>structured</fdd:gdfrConstraint>
		<fdd:gdfrBasis>symbolic</fdd:gdfrBasis>
		<fdd:updates>
			<fdd:date>2025-07-24</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Full</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>PDF/A-4f for Embedded Files: ISO 19005-4:
Document management — Electronic document file format for long-term preservation — Part 4: Use of ISO 32000-2 (PDF/A-4), Annex A</fdd:fullName>
		<fdd:keywords>
			<fdd:keyword>Portable Document Format (PDF)</fdd:keyword>
			<fdd:keyword>PDF/A</fdd:keyword>
			<fdd:keyword>document formats</fdd:keyword>
			<fdd:keyword>PDF</fdd:keyword>
			<fdd:keyword>embedded files</fdd:keyword>
		</fdd:keywords>
		<fdd:description>
			<p>PDF/A-4f is defined in <a href="https://www.iso.org/standard/71832.html">ISO 19005-4: Document management — Electronic document file format for long-term preservation Part 4: Use of ISO 32000-2 (PDF/A-4)</a> Annex A: Requirements for PDF/A with Embedded Files. Note that the <a href="https://pdf-issues.pdfa.org/19005-4-2020/index.html">PDF Association</a> states that "a formal dated revision of PDF/A-4 is currently being prepared by ISO TC 171 SC 2 WG 5" in 2025 and errata are listed on the PDF Association's <a href="https://github.com/pdf-association/pdf-issues/issues?q=is%3Aissue+label%3APDF%2FA-4">GitHub repository</a>. PDF/A-4f is a subtype of <fddLink id="fdd000532">PDF/A-4</fddLink> and the specification states that &quot;PDF/A-4f [is] a synonym for ISO 19005-4 Level F conformance.&quot; See <fddLink id="fdd000532">PDF/A-4</fddLink> for general file and structure information and <fddLink id="fdd000318">PDF/A_family</fddLink> for more details on the PDF/A family of standards. </p>
			<p>PDF/A-4f must contain an <i>EmbeddedFiles</i> key in the name dictionary of the document catalog dictionary. All file specification dictionaries present in the value of the EmbeddedFiles key shall comply with the requirements of , except that the embedded files may be of any type. Embedded files that do not comply with PDF/A-1, PDF/A-2 or PDF/A-4 should not be rendered by a conforming PDF/A-4f processor.  However, a conforming interactive PDF/A- 4f processor should enable the extraction of any embedded file, requiring an explicit user action to initiate the extraction. The specification notes that "The extraction process generally consists of copying the raw byte stream of the embedded file data (possibly after any decoding of filters that might be applied) from inside the PDF to some external byte storage system (e.g., disk or memory)."</p>
			<p>To aid in transparency which is essential for digital preservation and archival purposes, a "PDF/A-4f conforming interactive processor shall provide a mechanism to display information about file specification dictionaries that include an embedded file stream but which are not listed in the EmbeddedFiles key in the name dictionary of a conforming file. In addition, a conforming interactive processor may also choose to display information from the associated embedded file stream dictionaries or their Params dictionary."</p>
			<p>It&apos;s worth noting that <fddLink id="fdd000651">PDF/A-4e</fddLink> files can also contain embedded files and therefore may contain an <i>EmbeddedFiles</i> key in the document catalog dictionary. In such cases, the file specification dictionaries present in the value of the EmbeddedFiles key must also conform to the requirements of PDF/A-4f.</p>
			<p>Other versions of PDF/A also support embedded files. <fddLink id="fdd000319">PDF/A-2</fddLink> is a constrained version of <a href="https://pdfa.org/resource/iso-32000-1/">ISO 32000-1 (Adobe PDF version 1.7)</a> which supports attachments of only PDF/A files; <fddLink id="fdd000360">PDF/A-3</fddLink> is also a constrained version of <a href="https://pdfa.org/resource/iso-32000-1/">ISO 32000-1 (Adobe PDF version 1.7)</a> but allows embedding of files of any type, not just other PDF/A files (as permitted in PDF/A-2); PDF/A-4f is defined from <a href="https://pdfa.org/resource/iso-32000-2/">ISO 32000-2 (PDF 2.0)</a> permits embedded files of any type and as well as the additional features supported in <fddLink id="fdd000474">PDF 2.0</fddLink>. In essence, PDF/A-4f is a successor to PDF/A-3. Dietrich von Seggern, in <a href="https://www.callassoftware.com/en/blog/making-pdf-a-conversion-easier">Callas software: Making PDF/A conversion easier</a>, says this about use cases for PDF/A-3 vs PDF/A-4f: &quot;From an archiving perspective, it is essential to limit the variety of file formats used; these variants therefore require a framework of additional rules. But there are striking use cases for them, that all have in common that there is a specific, defined relationship between the actual archive file and the files that are embedded within it. An example are embedded source files – say, saving a spreadsheet alongside a PDF copy, digital invoices containing machine-readable datasets embedded into a human-readable PDF/A-3 file (for example ZUGFeRD invoices). Email archiving is another classic use case for PDF/A-3 and -4f. Here, the original email can be embedded in EML or MSG format, along with attachments.&quot;</p>
		</fdd:description>
		<fdd:shortDescription>PDF/A-4f is a subset of PDF/A with additional requirements to accommodate embedded files of any type.</fdd:shortDescription>
		<fdd:productionPhase>A final-state format for delivery to end users and long-term preservation of the document as disseminated to users.</fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Subtype of</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000532</fdd:id>
					<fdd:shortName>PDF/A-4</fdd:shortName>
					<fdd:titleName>PDF/A-4, PDF for Long-term Preservation, Use of ISO 32000-2</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has subtype</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000650</fdd:id>
					<fdd:shortName>EA-PDF</fdd:shortName>
					<fdd:titleName>EA-PDF: Archival Email Format based on PDF/A</fdd:titleName>
				</fdd:relatedTo>
				<fdd:comment>As defined in the EA-PDF specification, all EA-PDF files SHALL conform to either PDF/A-3a, PDF/A-3u, PDF/A-4, PDF/A-4f, or PDF/A-4e.</fdd:comment>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:experience>LC was represented on the working group for the original PDF/A standard and continues to participate in the development of new versions through <a href="https://www.iso.org/committee/53674.html">ISO TC 171/SC2/WG5</a>. As of 2025, there are no known PDF/A-4f files in Library of Congress collections.</fdd:experience>
		<fdd:preference>See <fddLink id="fdd000532">PDF/A-4</fddLink>.  </fdd:preference>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:disclosure>
		<fdd:documentation>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:documentation>
		<fdd:adoption>
			<p>Overall adoption of PDF 2.0-based formats such as PDF/A-4f and PDF/A-4e is still emerging in the marketplace. Several platforms note support for PDF/A-4f such as <a href="https://github.com/itext/itext-dotnet/releases">iText Core/Community 9.2.0</a>, <a href="https://help.scanshare.com/home/getting-started/release-notes/">Scanshare</a> v5.23.10 (October 16, 2023), <a href="https://docshield.tungstenautomation.com/PowerPDF/en_US/5.1.1-x2ki7a3ycc/help/PowerPDF_help/c_aboutpdfversions.html">Power PDF</a> and <a href="https://www.cib.de/en/pdftoolbox/">
CIB pdf toolbox</a>. Docusign in their PDF/A Conversion and Compliance (see link from navigation tree on <a href="https://support.docusign.com/">https://support.docusign.com/</a>) specifically states that as of July 2025, it does not support PDF/A-4f (or PDF/A-4e). See also <fddLink id="fdd000532">PDF/A-4</fddLink>. <a href="../contact_format.shtml">Comments welcome</a>.</p>
		</fdd:adoption>
		<fdd:licensingAndPatents>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:licensingAndPatents>
		<fdd:transparency>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:transparency>
		<fdd:selfDocumentation>
			<p>See also <fddLink id="fdd000318">PDF/A_family</fddLink> and <fddLink id="fdd000532">PDF/A-4</fddLink>.</p>
			<p>
				<b>Accessibility Features</b>
			</p>
			<p>PDF/A-4f has no specific support for digital accessibility and may be further limited (or improved) by the accessibility features of the embedded files. Note that a conforming interactive PDF/A-
4f processor should enable the extraction of any embedded file and the embedded file may have different accessibility needs or support. See <fddLink id="fdd000532">PDF/A-4</fddLink> which recommends following the <fddLink id="fdd000350">PDF/UA</fddLink> standard, which provides detailed guidelines and technical specifications for creating accessible tagged PDFs.</p>
		</fdd:selfDocumentation>
		<fdd:externalDependencies>See <fddLink id="fdd000318">PDF/A_family</fddLink>.</fdd:externalDependencies>
		<fdd:techProtection>See <fddLink id="fdd000318">PDF/A_family</fddLink>.</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors>
		<fdd:textQF>
			<fdd:normalText>See <fddLink id="fdd000318">PDF/A_family</fddLink>.</fdd:normalText>
			<fdd:structure>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:structure>
			<fdd:layout>See <fddLink id="fdd000318">PDF/A_family</fddLink>.</fdd:layout>
			<fdd:mathDiag>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:mathDiag>
			<fdd:beyondText>PDF/A-4f permits embedded files of any type. See also <fddLink id="fdd000532">PDF/A-4</fddLink>.
			</fdd:beyondText>
		</fdd:textQF>
	</fdd:qualityAndFunctionalityFactors>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
			<fdd:filenameExtension>
				<fdd:sigValueNA>See related format.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:note>
			</fdd:filenameExtension>
			<fdd:internetMediaType>
				<fdd:sigValueNA>See related format.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000318">PDF/A_family</fddLink>.</fdd:note>
			</fdd:internetMediaType>
			<fdd:magicNumbers>
				<fdd:sigValueNA>See related format.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:note>
			</fdd:magicNumbers>
			<fdd:other>
				<fdd:tag>Indicator for profile, level, version, etc.</fdd:tag>
				<fdd:values>
					<fdd:sigValueNA>See note.</fdd:sigValueNA>
					<fdd:note>The standard specifies that the PDF/A version and conformance level of a file shall be specified using the PDF/A Identification extension schema defined in the standard.  This schema has two mandatory elements: pdfaid:part (integer), pdfaid:rev (4-character integer of the date of publication or revision). A PDF/A-4 file should have the integer value 4 for pdfaid:part. Claim to conformance with one of the profiles defined in Annexes A and B is made in the optional pdfaid:conformance by the following single characters: E for PDF/A-4e and F for PDF/A-4f.  E and F are the only valid values for pdfaid:conformance in a PDF/A-4 file. Note that pdfaid:conformance is not mandatory for PDF/A-4 as it is for previous versions of PDF/A.</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Other</fdd:tag>
				<fdd:values>
					<fdd:sigValueNA>See note.</fdd:sigValueNA>
					<fdd:note>NARA File Format Preservation Plan ID has no corresponding entry for PDF/A-4f as of July 2025.</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Pronom PUID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>fmt/1912</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>See <a href="http://www.nationalarchives.gov.uk/PRONOM/fmt/1912">http://www.nationalarchives.gov.uk/PRONOM/fmt/1912</a> for Acrobat PDF/A - Portable Document Format 4f.</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Wikidata Title ID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>Q123595865</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>See <a href="https://www.wikidata.org/wiki/Q123595865">https://www.wikidata.org/wiki/Q123595865</a> for Portable Document Format/Archive, version 4f.
</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:notes>
		<fdd:general>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:general>
		<fdd:history>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:history>
	</fdd:notes>
	<fdd:formatSpecifications>
		<fdd:urls>
			<fdd:url>
				<fdd:urlGroup>
					<fdd:intro>See <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:intro>
				</fdd:urlGroup>
			</fdd:url>
		</fdd:urls>
	</fdd:formatSpecifications>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlGroup>
					<fdd:intro>See also <fddLink id="fdd000532">PDF/A-4</fddLink>.</fdd:intro>
				</fdd:urlGroup>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://pdf-issues.pdfa.org/19005-4-2020/index.html</link>
					<tag>PDF Association: PDF/A-4 Corrections</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://github.com/pdf-association/pdf-issues/issues?q=is%3Aissue+label%3APDF%2FA-4</link>
					<tag>PDF Association PDF Issues GitHub Repository with PDF/A-4 tag</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://pdfa.org/pdf-standards-explained-with-a-focus-on-the-newest/</link>
					<tag>PDF standards explained: with a focus on the newest. PDF Association. September 15, 2021</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://pdfa.org/resource/iso-19005-4-pdf-a-4/</link>
					<tag>19005-4</tag>
					<comment>PDF/A-4 is based on ISO 32000-2:2020 (PDF 2.0). It introduces the new PDF/A-4e conformance level that supports interactive 3D models for engineering workflows.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.callassoftware.com/en/blog/making-pdf-a-conversion-easier</link>
					<tag>Making PDF/A conversion easier. Callas software. 15 Mar 2023 - By Dietrich von Seggern</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://github.com/itext/itext-dotnet/releases</link>
					<tag>iText Core/Community version 9.2.0 GitHub Repository</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://help.scanshare.com/home/getting-started/release-notes</link>
					<tag>Scanshare Release Notes</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://docshield.tungstenautomation.com/PowerPDF/en_US/5.1.1-x2ki7a3ycc/help/PowerPDF_help/c_welcome.html</link>
					<tag>Power PDF Help</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.cib.de/en/pdftoolbox/ </link>
					<tag>CIB pdf toolbox</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://support.docusign.com</link>
					<tag>Document Support: PDF/A Conversion and Compliance</tag>
					<comment>Navigate to page through navigation tree</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://en.wikipedia.org/wiki/PDF/A</link>
					<tag>Wikipedia entry for PDF/A</tag>
					<comment>With information about PDF/A-4f</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.nationalarchives.gov.uk/pronom/fmt/1912</link>
					<tag>PRONOM entry for fmt/1912</tag>
					<comment>Information in PRONOM from UK National Archives about Acrobat PDF/A - Portable Document Format 4f. PUID: fmt/1911.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.wikidata.org/wiki/Q123595865</link>
					<tag>Wikidata entry for Q123595865</tag>
					<comment>Information in Wikidata about Portable Document Format/Archive, version 4f. Wikidata Title ID: Q123595865.</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:usefulReferences>
</fdd:FDD>
